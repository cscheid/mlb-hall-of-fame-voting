<!DOCTYPE html>
<meta charset="utf-8">
<html>
<head>
  <link rel="stylesheet" href="style.css"/>
  <title>MLB Hall of Fame voting</title>
</head>
<body>
  <script src="lib/d3.v3.min.js"></script>
  <script src="lib/crossfilter.v1.min.js"></script>
  <script src="lib/jquery-1.6.2.min.js"></script>
  <script src="lib/jquery.ba-bbq.min.js"></script>
  <script src="lib/underscore-min.js"></script>

  <script src="player.js"></script>
  <script src="index.js"></script>
  <div style="float: right;margin-right:50px;margin-top:0.5em"><a href="#about">About</a> | <a href="#instructions">Instructions</a></div><h2>MLB Hall of Fame voting</h2>
  <div style="clear:both;"></div><hr>
  <div>
    <div style="float: left; margin-left: 50px">
      Player Name: <input type="text" id="searchbox">
    </div>
    <div style="float: right; margin-right: 50px">
      <table id="player-stats">
	<tr>
	  <th>Name</th><th>Pos</th><th>Yrs</th><th>G</th><th>WAR</th><th>Batting:</th><th>AB</th><th>R</th><th align="right">H</th><th>HR</th><th>RBI</th><th>SB</th><th>BB</th><th align="right">BA</th><th>OBP</th><th>SLG</th><th>OPS</th>
	</tr>
	<tr>
	  <td id="player-Name" class="tablename">-</td>
	  <td id="player-Pos" class="player-stats">-</td>
	  <td id="player-Yrs" class="player-stats" align="right">-</td>
	  <td id="player-G" class="player-stats" style="width:2.8em" align="right">-</td>
	  <td id="player-WAR" class="player-stats" style="width:2.8em" align="right">-</td>
	  <td></td>
	  <td id="player-AB" class="player-stats" style="width:3.2em" align="right">-</td>
	  <td id="player-R" class="player-stats" style="width:2.8em" align="right">-</td>
	  <td id="player-H" class="player-stats" style="width:2.8em" align="right">-</td>
	  <td id="player-HR" class="player-stats" style="width:2em" align="right">-</td>
	  <td id="player-RBI" class="player-stats" style="width:2.8em" align="right">-</td>
	  <td id="player-SB" class="player-stats" style="width:2.8em" align="right">-</td>
	  <td id="player-BB" class="player-stats" style="width:2.8em" align="right">-</td>
	  <td id="player-BA" class="player-stats" style="width:2.8em" align="right">-</td>
	  <td id="player-OBP" class="player-stats" style="width:2.8em" align="right">-</td>
	  <td id="player-SLG" class="player-stats" style="width:2.8em" align="right">-</td>
	  <td id="player-OPS" class="player-stats" align="right">-</td>
	</tr>
	<tr>
	  <th></th><th></th><th></th><th></th><th></th><th>Pitching:</th><th>W</th><th>L</th><th>ERA</th><th>WHIP</th><th>GS</th><th>SV</th><th>IP</th><th>H</th><th>HR</th><th>BB</th><th>SO</th>
	</tr>
	<tr align="right">
	  <td></td>
	  <td></td>
	  <td></td>
	  <td></td>
	  <td></td>
	  <td></td>
	  <td id="player-W">-</td>
	  <td id="player-L">-</td>
	  <td id="player-ERA">-</td>
	  <td id="player-WHIP">-</td>
	  <td id="player-GS">-</td>
	  <td id="player-SV">-</td>
	  <td id="player-IP" style="width:3.8em">-</td>
	  <td id="player-H.1">-</td>
	  <td id="player-HR.1">-</td>
	  <td id="player-BB.1">-</td>
	  <td id="player-SO">-</td>
	</tr>
      </table>
    </div>
    <div style="clear: left"></div>
    <div id="totals" style="margin-left: 50px; margin-right: 50px"><span id="active">-</span> of <span id="total">-</span> players selected.<br><a href="#state=">Clear query</a>.</div>
    <table><tr><td style="padding-left: 50px"><span id="main"></span></td><td>
    <table><tr><td valign="top">Inducted by:</td></tr><tr><td><span id="induction_legend"></span></td></tr><tr><td>Position:</td></tr><tr><td><span id="position_legend"></span></td></tr></table>
    </td></tr></table>
  </div>
  <div id="charts" style="float: left; width: 75%; margin-left: 50px;"></div>
  <div style="float: right; width: 15%; margin-right: 50px;"><div id="scatterplot"></div></div>
  <div style="clear: both"></div>
  <div style="margin-left: 50px; margin-right:50px">Show histograms (<span style="color: #00000; cursor: pointer" onclick="show_common_stats()">common stats</span>, <span style="color:#008080; cursor: pointer" onclick="show_pitcher_stats()">pitcher stats</span>, <span style="color:#0080ff; cursor: pointer" onclick="show_batter_stats()">batter stats</span>):
    <div id="show" style="overflow: auto">
    </div>
  </div>
  <div style="clear: both"></div>
  <hr>
  <p>This is a test of some text. Let's select all <a href="#state=state%5Bshown_histograms%5D%5B%5D=-1&state%5Bshown_histograms%5D%5B%5D=2&state%5Bshown_histograms%5D%5B%5D=3&state%5Bshown_histograms%5D%5B%5D=5&state%5Bshown_histograms%5D%5B%5D=6&state%5Bshown_histograms%5D%5B%5D=7&state%5Bshown_histograms%5D%5B%5D=9&state%5Bshown_histograms%5D%5B%5D=10&state%5Bshown_histograms%5D%5B%5D=11&state%5Bshown_histograms%5D%5B%5D=13&state%5Bshown_histograms%5D%5B%5D=14&state%5Bshown_histograms%5D%5B%5D=15&state%5Bshown_histograms%5D%5B%5D=16&state%5Bshown_histograms%5D%5B%5D=17&state%5Bshown_histograms%5D%5B%5D=19&state%5Bshown_histograms%5D%5B%5D=20&state%5Binduction_method%5D=2">real inductees</a> Now the <a href="#state=state%5Bshown_histograms%5D%5B%5D=-1&state%5Bshown_histograms%5D%5B%5D=2&state%5Bshown_histograms%5D%5B%5D=3&state%5Bshown_histograms%5D%5B%5D=5&state%5Bshown_histograms%5D%5B%5D=6&state%5Bshown_histograms%5D%5B%5D=7&state%5Bshown_histograms%5D%5B%5D=9&state%5Bshown_histograms%5D%5B%5D=10&state%5Bshown_histograms%5D%5B%5D=11&state%5Bshown_histograms%5D%5B%5D=13&state%5Bshown_histograms%5D%5B%5D=14&state%5Bshown_histograms%5D%5B%5D=15&state%5Bshown_histograms%5D%5B%5D=16&state%5Bshown_histograms%5D%5B%5D=17&state%5Bshown_histograms%5D%5B%5D=19&state%5Bshown_histograms%5D%5B%5D=20&state%5Binduction_method%5D=96">suits</a>!
    <hr>
    <h2 id="instructions">How to use this</h2>
      <p>As a general principle, clicking and dragging regions of the elements of this visualization will naturally create queries which restrict the data in the <b>other</b> elements to lie within the correct region. For example, if you drag a region in the WAR histogram between values 50 and 100, the other graphics will be updated to reflect only the players with WAR statistics between 50 and 100. When combined, these region form logical intersections: we only show players which satisfy <b>all</b> criteria. The legends are clickable (to toggle visibility of different positions and induction methods), and the main trajectory plot is also draggable. Clicking on any of the circles shows career stats for that specific player.</p>
      <p>The state of the visualization is encoded in the address bar. This means you can click back and forward like you would when navigating different webpages; if you like a particular state, you can copy the URL and share it over email, Facebook, Twitter, etc.</p>
    <h2 id="about">About this visualization</h2>
    <p>This visualization was created by <a href="http://cscheid.net">Carlos Scheidegger</a> and <a href="http://www2.research.att.com/~kshirley/">Kenny Shirley</a>. It uses <a href="http://d3js.org">d3</a>, <a href="http://square.github.com/crossfilter/">Crossfilter</a> (specifically, <a href="http://www.jasondavies.com/">Jason Davies's</a> custom-filter branch in his <a href="https://github.com/jasondavies/crossfilter">fork</a>, which supports arbitrary filters), and CSV files created in <a href="http://www.r-project.org">R</a>, using raw data from <a href="http://www.baseball-reference.com/">baseball-reference.com</a>.</p>
<p>The histogram rendering is a trivial change of the demonstration code in Crossfilter; the selectable legend was written from scratch (it is also trivial). The history management code was written on top of <a href="http://jquery.com">jQuery</a>'s <tt>param</tt> and <a href="http://benalman.com/projects/jquery-bbq-plugin/">jquery-bbq's</a> <tt>deparam</tt>, although the code has more than a few hacks in it. Bizarrely, these two functions do not form a bijection: <tt>$.param</tt> is not an injection from JSON objects to strings. <a href="https://www.destroyallsoftware.com/talks/wat">WAT</a></p>
  <p></p>

</body>
</html>
